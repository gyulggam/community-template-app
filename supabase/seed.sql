-- Supabase 초기 데이터 삽입 스크립트
-- 이 스크립트는 스키마 생성 후에 실행해야 합니다.

-- 임시로 사용할 사용자 추가 (auth.users는 직접 수정하지 않으므로 더미 데이터로 대체)
INSERT INTO users (id, username, display_name, email, avatar, bio, role, is_verified, followers, following, post_count, created_at, updated_at)
VALUES
  ('11111111-1111-1111-1111-111111111111', 'kimdev', '김개발', 'kimdev@example.com', '/avatars/avatar-1.png', '풀스택 개발자 | Next.js, React, Node.js', 'admin', true, 120, 85, 42, '2023-01-15T08:00:00Z', '2023-01-15T08:00:00Z'),
  ('22222222-2222-2222-2222-222222222222', 'leedesign', '이디자인', 'leedesign@example.com', '/avatars/avatar-2.png', 'UI/UX 디자이너 | 웹 & 모바일 디자인', 'user', true, 230, 150, 28, '2023-02-20T10:12:00Z', '2023-02-20T10:12:00Z'),
  ('33333333-3333-3333-3333-333333333333', 'parkfrontend', '박프론트', 'parkfrontend@example.com', '/avatars/avatar-3.png', '프론트엔드 개발자 | React, TypeScript 전문', 'user', true, 95, 120, 16, '2023-03-10T14:25:00Z', '2023-03-10T14:25:00Z'),
  ('44444444-4444-4444-4444-444444444444', 'choibackend', '최백엔드', 'choibackend@example.com', '/avatars/avatar-4.png', '백엔드 개발자 | Node.js, Go, AWS', 'moderator', true, 88, 53, 20, '2023-02-05T09:35:00Z', '2023-02-05T09:35:00Z'),
  ('55555555-5555-5555-5555-555555555555', 'jeongmarketer', '정마케터', 'jeongmarketer@example.com', '/avatars/avatar-5.png', '디지털 마케팅 전문가 | SEO, SEM, 소셜 미디어', 'user', true, 175, 92, 34, '2023-04-18T11:42:00Z', '2023-04-18T11:42:00Z');

-- 카테고리 추가
INSERT INTO categories (id, name, slug, description, parent_id, post_count, created_at, updated_at)
VALUES
  ('11111111-1111-1111-1111-111111111112', '개발/프로그래밍', 'programming', '개발 및 프로그래밍 관련 토픽', NULL, 89, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('22222222-2222-2222-2222-222222222223', '디자인', 'design', 'UI/UX 및 그래픽 디자인 관련 토픽', NULL, 56, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('33333333-3333-3333-3333-333333333334', '마케팅', 'marketing', '디지털 마케팅 및 광고 관련 토픽', NULL, 42, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('44444444-4444-4444-4444-444444444445', '비즈니스', 'business', '창업 및 비즈니스 관련 토픽', NULL, 37, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('55555555-5555-5555-5555-555555555556', '웹 개발', 'web-dev', '웹 개발 관련 토픽', '11111111-1111-1111-1111-111111111112', 45, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z');

-- 태그 추가
INSERT INTO tags (id, name, slug, post_count, created_at, updated_at)
VALUES
  ('11111111-1111-1111-1111-111111111113', 'JavaScript', 'javascript', 78, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('22222222-2222-2222-2222-222222222224', 'React', 'react', 64, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('33333333-3333-3333-3333-333333333335', 'TypeScript', 'typescript', 45, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('44444444-4444-4444-4444-444444444446', 'UI/UX', 'ui-ux', 38, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z'),
  ('55555555-5555-5555-5555-555555555557', 'Next.js', 'nextjs', 29, '2023-01-01T00:00:00Z', '2023-01-01T00:00:00Z');

-- 소셜 타입 게시글 추가
INSERT INTO posts (id, title, content, author_id, type, status, tags, likes_count, comments_count, views_count, created_at, updated_at)
VALUES
  ('11111111-1111-1111-1111-111111111114', NULL, '오늘 새로운 프로젝트를 시작했습니다! 앞으로의 여정이 기대되네요 😊', '11111111-1111-1111-1111-111111111111', 'social', 'published', ARRAY['개발', '프로젝트'], 24, 5, 56, '2023-05-25T08:30:00Z', '2023-05-25T08:30:00Z'),
  ('22222222-2222-2222-2222-222222222225', NULL, '주말에 열린 개발자 컨퍼런스에 다녀왔습니다. 많은 인사이트를 얻었어요! #개발자컨퍼런스 #기술트렌드', '22222222-2222-2222-2222-222222222222', 'social', 'published', ARRAY['컨퍼런스', '개발', '기술트렌드'], 42, 8, 128, '2023-05-24T14:20:00Z', '2023-05-24T14:20:00Z'),
  ('33333333-3333-3333-3333-333333333336', NULL, '새로운 UI 디자인 트렌드에 대한 생각을 공유합니다. 미니멀리즘이 계속해서 강세를 보이고 있네요.', '33333333-3333-3333-3333-333333333333', 'social', 'published', ARRAY['디자인', 'UI', '트렌드'], 18, 12, 87, '2023-05-23T11:15:00Z', '2023-05-23T11:15:00Z');

-- 포럼 타입 게시글 추가
INSERT INTO posts (id, title, content, author_id, category_id, type, status, tags, likes_count, comments_count, views_count, is_solved, created_at, updated_at)
VALUES
  ('44444444-4444-4444-4444-444444444447', 'Next.js에서 데이터 패칭 방법 추천해주세요', 'Next.js 프로젝트에서 API 데이터를 효율적으로 가져오는 방법에 대해 조언 부탁드립니다. React Query와 SWR 중 어떤 것이 더 좋을까요?', '44444444-4444-4444-4444-444444444444', '55555555-5555-5555-5555-555555555556', 'forum', 'published', ARRAY['Next.js', 'API', 'React'], 8, 5, 42, false, '2023-05-26T09:45:00Z', '2023-05-26T09:45:00Z'),
  ('55555555-5555-5555-5555-555555555558', 'TypeScript와 JavaScript 중 어떤 것을 배워야 할까요?', '프론트엔드 개발을 시작하려고 하는데, TypeScript와 JavaScript 중 어떤 것부터 배우는 것이 좋을까요? 각각의 장단점을 알려주세요.', '33333333-3333-3333-3333-333333333333', '11111111-1111-1111-1111-111111111112', 'forum', 'published', ARRAY['TypeScript', 'JavaScript', '프론트엔드'], 15, 12, 128, true, '2023-05-25T15:30:00Z', '2023-05-25T15:30:00Z'),
  ('66666666-6666-6666-6666-666666666666', 'UI 디자인 트렌드 2023', '2023년 UI/UX 디자인 트렌드에 대해 이야기해봅시다. 어떤 스타일이 인기를 끌고 있나요?', '22222222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222223', 'forum', 'published', ARRAY['UI', 'UX', '디자인', '트렌드'], 10, 8, 95, false, '2023-05-24T11:20:00Z', '2023-05-24T11:20:00Z');

-- 댓글 추가
INSERT INTO comments (id, content, author_id, post_id, likes_count, is_accepted, created_at, updated_at)
VALUES
  ('11111111-1111-1111-1111-111111111115', 'React Query가 캐싱과 상태 관리 측면에서 더 강력한 기능을 제공합니다. 특히 mutation과 관련된 기능이 편리해요.', '11111111-1111-1111-1111-111111111111', '44444444-4444-4444-4444-444444444447', 3, false, '2023-05-26T10:15:00Z', '2023-05-26T10:15:00Z'),
  ('22222222-2222-2222-2222-222222222226', 'SWR이 더 간단하고 직관적입니다. Next.js와의 통합도 자연스럽고요. 간단한 프로젝트라면 SWR로 충분할 것 같습니다.', '33333333-3333-3333-3333-333333333333', '44444444-4444-4444-4444-444444444447', 5, true, '2023-05-26T10:30:00Z', '2023-05-26T10:30:00Z'),
  ('33333333-3333-3333-3333-333333333337', '저는 개인적으로 초보자라면 먼저 JavaScript를 배우고 나서 TypeScript로 넘어가는 것을 추천합니다. 기본 개념을 이해하는 데 도움이 됩니다.', '11111111-1111-1111-1111-111111111111', '55555555-5555-5555-5555-555555555558', 7, true, '2023-05-25T16:00:00Z', '2023-05-25T16:00:00Z'),
  ('44444444-4444-4444-4444-444444444448', '요즘은 네오모피즘보다 글래스모피즘이 더 인기있는 것 같습니다. 투명한 디자인 요소와 블러 효과가 많이 사용되고 있어요.', '33333333-3333-3333-3333-333333333333', '66666666-6666-6666-6666-666666666666', 4, false, '2023-05-24T12:00:00Z', '2023-05-24T12:00:00Z');

-- 좋아요 추가
INSERT INTO likes (id, user_id, target_type, target_id, created_at, updated_at)
VALUES
  ('11111111-1111-1111-1111-111111111116', '22222222-2222-2222-2222-222222222222', 'post', '44444444-4444-4444-4444-444444444447', '2023-05-26T11:00:00Z', '2023-05-26T11:00:00Z'),
  ('22222222-2222-2222-2222-222222222227', '33333333-3333-3333-3333-333333333333', 'post', '44444444-4444-4444-4444-444444444447', '2023-05-26T11:05:00Z', '2023-05-26T11:05:00Z'),
  ('33333333-3333-3333-3333-333333333338', '44444444-4444-4444-4444-444444444444', 'comment', '22222222-2222-2222-2222-222222222226', '2023-05-26T11:10:00Z', '2023-05-26T11:10:00Z'),
  ('44444444-4444-4444-4444-444444444449', '55555555-5555-5555-5555-555555555555', 'post', '55555555-5555-5555-5555-555555555558', '2023-05-25T17:00:00Z', '2023-05-25T17:00:00Z');

-- posts 테이블의 accepted_answer_id 업데이트
UPDATE posts SET accepted_answer_id = '22222222-2222-2222-2222-222222222226', updated_at = NOW() WHERE id = '44444444-4444-4444-4444-444444444447';
UPDATE posts SET accepted_answer_id = '33333333-3333-3333-3333-333333333337', updated_at = NOW() WHERE id = '55555555-5555-5555-5555-555555555558';

-- comments 테이블의 is_accepted 업데이트
UPDATE comments SET is_accepted = true, updated_at = NOW() WHERE id = '22222222-2222-2222-2222-222222222226';
UPDATE comments SET is_accepted = true, updated_at = NOW() WHERE id = '33333333-3333-3333-3333-333333333337'; 